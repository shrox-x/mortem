<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MORTEM | #REVIVE</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@700&family=Cinzel:wght@700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <style>
        body { 
            background-color: #000; 
            color: #fff; margin: 0; 
            overflow-x: hidden; min-height: 100vh;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; /* Para alam ng user na pwedeng i-click kahit saan */
        }

        body::after {
            content: "";
            position: fixed;
            bottom: 0; left: 0; width: 100%; height: 45%; 
            background: linear-gradient(to bottom, transparent, #111, #1a1a1a);
            z-index: -1;
            pointer-events: none;
        }

        #particles-js { 
            position: fixed; width: 100%; height: 100%; 
            z-index: 1; top: 0; left: 0;
        }

        .container { 
            position: relative; z-index: 2; text-align: center; 
            padding: 40px 20px; width: 100%; max-width: 500px; 
            display: flex; flex-direction: column; align-items: center;
            pointer-events: none; /* Para lumusot ang click sa body */
        }

        /* Ibalik ang click sa interactive elements */
        .spotify-container, .server-card { pointer-events: auto; }

        .main-logo { 
            width: 100%; max-width: 400px; height: auto; 
            margin-bottom: 5px; 
            filter: none !important; 
            box-shadow: none !important; 
        }

        .main-subtitle { font-family: 'Cinzel', serif; font-size: 10px; color: #444; letter-spacing: 5px; text-transform: uppercase; margin-bottom: 30px; }
        .label { font-family: 'Cinzel', serif; font-size: 10px; color: #222; letter-spacing: 5px; text-transform: uppercase; margin: 25px 0 15px; border-bottom: 1px solid #111; padding-bottom: 5px; width: 100%; }
        
        .grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }
        .pfp-img { width: 70px; height: 70px; border-radius: 50%; border: 1px solid #222; object-fit: cover; background: #000; }
        .status-dot { position: absolute; bottom: 8px; right: 8px; width: 14px; height: 14px; border-radius: 50%; border: 3px solid #000; }

        .spotify-container {
            background: rgba(255, 255, 255, 0.02); 
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 18px; padding: 15px; display: flex; align-items: center;
            width: 90%; margin: 30px 0;
        }
        .song-title { font-family: 'Space Mono', monospace; font-size: 14px; font-weight: 700; margin: 0; color: #fff; }
        .song-artist { font-family: 'Space Mono', monospace; font-size: 11px; color: rgba(255,255,255,0.4); margin-top: 3px; }

        .server-card {
            background: rgba(255, 255, 255, 0.02); 
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 25px; overflow: hidden; margin-top: 10px; 
            display: block; text-decoration: none; position: relative; 
            padding-bottom: 45px; width: 100%;
        }
        .banner { width: 100%; height: 160px; background-image: url('banner.gif'); background-size: cover; background-position: center; }
        #server-icon { width: 85px; height: 85px; border-radius: 50%; border: 5px solid #000; position: absolute; bottom: 0; left: 50%; transform: translate(-50%, 10%); background: #000; }
    </style>
</head>
<body onclick="toggleMusic()">

    <div id="particles-js"></div>

    <div class="container">
        <img src="logo.png" alt="MORTEM" class="main-logo">
        <div class="main-subtitle">Death is eternal</div>

        <span class="label">Owners</span>
        <div class="grid" id="owners-list"></div>

        <span class="label">Co Owners</span>
        <div class="grid" id="members-list"></div>

        <div class="spotify-container">
            <img src="anime.png" id="music-icon" style="width:52px; height:52px; border-radius:10px; margin-right:15px; object-fit:cover;">
            <div class="spotify-info">
                <p class="song-title" id="music-status">OFFLINE</p>
                <p class="song-artist">Tap anywhere to play</p>
            </div>
        </div>
        <audio id="bgm" src="partynextdoor.mp3" loop></audio>

        <a href="https://discord.gg/3HDqraKXb" class="server-card">
            <div class="banner"></div>
            <img id="server-icon" src="mortemicon.png">
        </a>
    </div>

    <script>
        const OWNERS = ["961546039037423636", "1384334311851036712"];
        const MEMBERS = ["1457433133086408886", "778607640942739456", "1372391730053120030", "1063520865876193280", "823508922265763841"];

        let audioContext;

        function toggleMusic() {
            var audio = document.getElementById("bgm");
            var status = document.getElementById("music-status");

            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }

            if (audio.paused) {
                if (audioContext.state === 'suspended') {
                    audioContext.resume();
                }
                audio.play();
                status.innerText = "PLAYING...";
            } else {
                audio.pause();
                status.innerText = "PAUSED";
            }
        }

        function loadUser(id, gridId) {
            const grid = document.getElementById(gridId);
            const div = document.createElement('div');
            div.style.position = 'relative';
            div.innerHTML = `<img src="" id="pfp-${id}" class="pfp-img"><div id="dot-${id}" class="status-dot"></div>`;
            grid.appendChild(div);

            setInterval(() => {
                fetch(`https://api.lanyard.rest/v1/users/${id}`)
                    .then(r => r.json())
                    .then(res => {
                        if(res.success) {
                            const d = res.data;
                            document.getElementById(`pfp-${id}`).src = d.discord_user.avatar ? `https://cdn.discordapp.com/avatars/${id}/${d.discord_user.avatar}.png` : `https://ui-avatars.com/api/?name=${d.discord_user.username}`;
                            
                            let sColor = '#747f8d'; 
                            if (d.discord_status === 'online' || d.discord_status === 'idle') sColor = '#3ba55d'; 
                            else if (d.discord_status === 'dnd') sColor = '#ed4245'; 
                            document.getElementById(`dot-${id}`).style.backgroundColor = sColor;
                        }
                    });
            }, 5000);
        }

        OWNERS.forEach(id => loadUser(id, 'owners-list'));
        MEMBERS.forEach(id => loadUser(id, 'members-list'));

        particlesJS("particles-js", {
            "particles": {
                "number": { "value": 40 },
                "color": { "value": "#ffffff" },
                "opacity": { "value": 0.2 },
                "size": { "value": 1.5 },
                "line_linked": { "enable": true, "distance": 150, "color": "#ffffff", "opacity": 0.1, "width": 1 },
                "move": { "enable": true, "speed": 0.8 }
            }
        });
    </script>
</body>
</html>
